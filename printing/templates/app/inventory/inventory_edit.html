{% extends "app/base/base.html" %}

{% block title %}Edit {{inventory.project_name}}{% endblock %}
{% block header %}Edit {{inventory.project_name}}{% endblock %}

{% block content %}
<div class="container-fluid">
    <span class="display-5"><b>INVENTORY ACCOUNT</b></span>
    <div class="row mb-3">
        <div class="col-lg-12">
            <div class="card shadow mb-3" id="OrderDets">
                <div class="card-header py-3">
                    <p class="text-primary m-0 fw-bold">Order Details</p>
                </div>
                <div class="card-body">
                    <form method="POST" enctype=multipart/form-data>
                        <div class="row">
                            <div class="col-6">
                                Project Name: <input type="text" name="name" id="name" class="form form-control" value="{{inventory.project_name}}">
                            </div>
                            <div class="col-6">
                                Catagory: <input type='text' class="form form-control" name="catagory" id="catagory" value="{{inventory.catagory}}" list='catagories'>
                                <datalist id='catagories'>
                                    {% for cat in catagory %}
                                        <option value="{{cat.catagory}}">{{cat.catagory}}</option>
                                    {% endfor %}
                               </datalist>
                            </div>
                        </div>
                        <table class="table table-striped" width="100%" id="orderdetails">
                            <thead>
                                <tr>
                                    <th>Item</th>
                                    <th>Selection</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Printer</td>
                                    <td>
                                        <select name="printer" id="printer" class="form form-select">
                                            {% for printer in printers %}
                                            {% if inventory.printerfk == printer.id %}
                                            <option value="{{printer.id}}" selected>{{printer.name}}</option>
                                            {% else %}
                                            <option value="{{printer.id}}">{{printer.name}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Filament</td>
                                    <td>
                                        <select name="filament" id="filament" class="form form-select">
                                            {% for filament in filaments %}
                                            {% if inventory.filamentfk == filament.id %}
                                            <option value="{{filament.id}}" selected>{{filament.type_rel.type}}
                                                {{filament.color}}-{{filament.diameter}}</option>
                                            {% else %}
                                            <option value="{{filament.id}}">{{filament.type_rel.type}}
                                                {{filament.color}}-{{filament.diameter}}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Print Time</td>
                                    <td><input type="text" name="printtime" id="printtime" disabled
                                            class="form form-control" value="Calculated on save">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Design</td>
                                    <td>
                                        <input type="text" name="design" id="design" class="form form-control"
                                            value=0>
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Advertising</td>
                                    <td>
                                        <input type="text" name="advertising" id="advertising"
                                            class="form form-control" value="{{inventory.advertising}}">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Overhead</td>
                                    <td>
                                        <input type="text" name="overhead" id="overhead" class="form form-control"
                                            value="{{inventory.overhead}}">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Rent</td>
                                    <td>
                                        <input type="text" name="rent" id="rent" class="form form-control"
                                            value="{{inventory.rent}}">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Other</td>
                                    <td>
                                        <input type="text" name="other" id="other" class="form form-control"
                                            value="{{inventory.extrafees}}">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Packaging</td>
                                    <td>
                                        <input type="text" name="packaging" id="packaging" class="form form-control"
                                            value="{{inventory.packaging}}">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Upload New File</td>
                                    <td>
                                        <input type="file" name="gcode" id="gcode" class="form form-control-file">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>Items per print</td>
                                    <td>
                                        <input type="text" name="qtyperprint" id="qtyperprint"
                                            class="form form-control" value="{{inventory.qtyperprint}}">
                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                            <tfoot class="table table-bordered">
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td class="text-end">Total Cost</td>
                                    <td><input type="text" name="cost" id="cost" disabled class="form form-control"
                                            value="Calculated on save"></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td class="text-end">Recommended Sale Price</td>
                                    <td><input type="text" name="sale_price" id="sale_price" class="form form-control"
                                            value="{{inventory.sale_price}}">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td class="text-end">Profit</td>
                                    <td><input type="text" name="profit" id="profit" disabled class="form form-control"
                                            value="Calculated on save"></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td class="text-end">Profit Margin</td>
                                    <td><input type="text" name="margin" id="margin" disabled class="form form-control"
                                            value="Calculated on save">
                                    </td>
                                </tr>
                            </tfoot>
                        </table>
                        <input type="submit" value="Submit" class="btn btn-success btn-lg">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}